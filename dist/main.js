(()=>{var t={761:function(t){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",i="hour",r="week",a="month",o="quarter",s="year",l="date",d="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},v="en",h={};h[v]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}};var y="$isDayjsObject",p=function(t){return t instanceof w||!(!t||!t[y])},g=function t(e,n,i){var r;if(!e)return v;if("string"==typeof e){var a=e.toLowerCase();h[a]&&(r=a),n&&(h[a]=n,r=a);var o=e.split("-");if(!r&&o.length>1)return t(o[0])}else{var s=e.name;h[s]=e,r=s}return!i&&r&&(v=r),r||!i&&v},m=function(t,e){if(p(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new w(n)},b={s:f,z:function(t){var e=-t.utcOffset(),n=Math.abs(e);return(e<=0?"+":"-")+f(Math.floor(n/60),2,"0")+":"+f(n%60,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(i,a),o=n-r<0,s=e.clone().add(i+(o?-1:1),a);return+(-(i+(n-r)/(o?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(d){return({M:a,y:s,w:r,d:"day",D:l,h:i,m:n,s:e,ms:t,Q:o})[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}};b.l=g,b.i=p,b.w=function(t,e){return m(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var w=function(){function f(t){this.$L=g(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[y]=!0}var v=f.prototype;return v.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(u);if(i){var r=i[2]-1||0,a=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)}}return new Date(e)}(t),this.init()},v.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},v.$utils=function(){return b},v.isValid=function(){return this.$d.toString()!==d},v.isSame=function(t,e){var n=m(t);return this.startOf(e)<=n&&n<=this.endOf(e)},v.isAfter=function(t,e){return m(t)<this.startOf(e)},v.isBefore=function(t,e){return this.endOf(e)<m(t)},v.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(t,o){var d=this,u=!!b.u(o)||o,c=b.p(t),f=function(t,e){var n=b.w(d.$u?Date.UTC(d.$y,e,t):new Date(d.$y,e,t),d);return u?n:n.endOf("day")},v=function(t,e){return b.w(d.toDate()[t].apply(d.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),d)},h=this.$W,y=this.$M,p=this.$D,g="set"+(this.$u?"UTC":"");switch(c){case s:return u?f(1,0):f(31,11);case a:return u?f(1,y):f(0,y+1);case r:var m=this.$locale().weekStart||0,w=(h<m?h+7:h)-m;return f(u?p-w:p+(6-w),y);case"day":case l:return v(g+"Hours",0);case i:return v(g+"Minutes",1);case n:return v(g+"Seconds",2);case e:return v(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(t){return this.startOf(t,!1)},v.$set=function(r,o){var d,u=b.p(r),c="set"+(this.$u?"UTC":""),f=((d={}).day=c+"Date",d[l]=c+"Date",d[a]=c+"Month",d[s]=c+"FullYear",d[i]=c+"Hours",d[n]=c+"Minutes",d[e]=c+"Seconds",d[t]=c+"Milliseconds",d)[u],v="day"===u?this.$D+(o-this.$W):o;if(u===a||u===s){var h=this.clone().set(l,1);h.$d[f](v),h.init(),this.$d=h.set(l,Math.min(this.$D,h.daysInMonth())).$d}else f&&this.$d[f](v);return this.init(),this},v.set=function(t,e){return this.clone().$set(t,e)},v.get=function(t){return this[b.p(t)]()},v.add=function(t,o){var l,d=this;t=Number(t);var u=b.p(o),c=function(e){var n=m(d);return b.w(n.date(n.date()+Math.round(e*t)),d)};if(u===a)return this.set(a,this.$M+t);if(u===s)return this.set(s,this.$y+t);if("day"===u)return c(1);if(u===r)return c(7);var f=((l={})[n]=6e4,l[i]=36e5,l[e]=1e3,l)[u]||1,v=this.$d.getTime()+t*f;return b.w(v,this)},v.subtract=function(t,e){return this.add(-1*t,e)},v.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var i=t||"YYYY-MM-DDTHH:mm:ssZ",r=b.z(this),a=this.$H,o=this.$m,s=this.$M,l=n.weekdays,u=n.months,f=n.meridiem,v=function(t,n,r,a){return t&&(t[n]||t(e,i))||r[n].slice(0,a)},h=function(t){return b.s(a%12||12,t,"0")},y=f||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(c,function(t,i){return i||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return b.s(e.$y,4,"0");case"M":return s+1;case"MM":return b.s(s+1,2,"0");case"MMM":return v(n.monthsShort,s,u,3);case"MMMM":return v(u,s);case"D":return e.$D;case"DD":return b.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return v(n.weekdaysMin,e.$W,l,2);case"ddd":return v(n.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(a);case"HH":return b.s(a,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return y(a,o,!0);case"A":return y(a,o,!1);case"m":return String(o);case"mm":return b.s(o,2,"0");case"s":return String(e.$s);case"ss":return b.s(e.$s,2,"0");case"SSS":return b.s(e.$ms,3,"0");case"Z":return r}return null}(t)||r.replace(":","")})},v.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},v.diff=function(t,l,d){var u,c=this,f=b.p(l),v=m(t),h=(v.utcOffset()-this.utcOffset())*6e4,y=this-v,p=function(){return b.m(c,v)};switch(f){case s:u=p()/12;break;case a:u=p();break;case o:u=p()/3;break;case r:u=(y-h)/6048e5;break;case"day":u=(y-h)/864e5;break;case i:u=y/36e5;break;case n:u=y/6e4;break;case e:u=y/1e3;break;default:u=y}return d?u:b.a(u)},v.daysInMonth=function(){return this.endOf(a).$D},v.$locale=function(){return h[this.$L]},v.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=g(t,e,!0);return i&&(n.$L=i),n},v.clone=function(){return b.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},f}(),x=w.prototype;return m.prototype=x,[["$ms",t],["$s",e],["$m",n],["$H",i],["$W","day"],["$M",a],["$y",s],["$D",l]].forEach(function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),m.extend=function(t,e){return t.$i||(t(e,w,m),t.$i=!0),m},m.locale=g,m.isDayjs=p,m.unix=function(t){return m(1e3*t)},m.en=h[v],m.Ls=h,m.p={},m}()},95:function(t){t.exports=function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,i=/\d\d/,r=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,o={},s=function(t){return(t*=1)+(t>68?1900:2e3)},l=function(t){return function(e){this[t]=+e}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t||"Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],u=function(t){var e=o[t];return e&&(e.indexOf?e:e.s.concat(e.f))},c=function(t,e){var n,i=o.meridiem;if(i){for(var r=1;r<=24;r+=1)if(t.indexOf(i(r,0,e))>-1){n=r>12;break}}else n=t===(e?"pm":"PM");return n},f={A:[a,function(t){this.afternoon=c(t,!1)}],a:[a,function(t){this.afternoon=c(t,!0)}],Q:[n,function(t){this.month=3*(t-1)+1}],S:[n,function(t){this.milliseconds=100*t}],SS:[i,function(t){this.milliseconds=10*t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[r,l("seconds")],ss:[r,l("seconds")],m:[r,l("minutes")],mm:[r,l("minutes")],H:[r,l("hours")],h:[r,l("hours")],HH:[r,l("hours")],hh:[r,l("hours")],D:[r,l("day")],DD:[i,l("day")],Do:[a,function(t){var e=o.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var i=1;i<=31;i+=1)e(i).replace(/\[|\]/g,"")===t&&(this.day=i)}],w:[r,l("week")],ww:[i,l("week")],M:[r,l("month")],MM:[i,l("month")],MMM:[a,function(t){var e=u("months"),n=(u("monthsShort")||e.map(function(t){return t.slice(0,3)})).indexOf(t)+1;if(n<1)throw Error();this.month=n%12||n}],MMMM:[a,function(t){var e=u("months").indexOf(t)+1;if(e<1)throw Error();this.month=e%12||e}],Y:[/[+-]?\d+/,l("year")],YY:[i,function(t){this.year=s(t)}],YYYY:[/\d{4}/,l("year")],Z:d,ZZ:d};return function(n,i,r){r.p.customParseFormat=!0,n&&n.parseTwoDigitYear&&(s=n.parseTwoDigitYear);var a=i.prototype,l=a.parse;a.parse=function(n){var i=n.date,a=n.utc,s=n.args;this.$u=a;var d=s[1];if("string"==typeof d){var u=!0===s[2],c=!0===s[3],v=s[2];c&&(v=s[2]),o=this.$locale(),!u&&v&&(o=r.Ls[v]),this.$d=function(n,i,r,a){try{if(["x","X"].indexOf(i)>-1)return new Date(("X"===i?1e3:1)*n);var s=(function(n){var i,r;i=n,r=o&&o.formats;for(var a=(n=i.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,n,i){var a=i&&i.toUpperCase();return n||r[i]||t[i]||r[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,e,n){return e||n.slice(1)})})).match(e),s=a.length,l=0;l<s;l+=1){var d=a[l],u=f[d],c=u&&u[0],v=u&&u[1];a[l]=v?{regex:c,parser:v}:d.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,i=0;n<s;n+=1){var r=a[n];if("string"==typeof r)i+=r.length;else{var o=r.regex,l=r.parser,d=t.slice(i),u=o.exec(d)[0];l.call(e,u),t=t.replace(u,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}})(i)(n),l=s.year,d=s.month,u=s.day,c=s.hours,v=s.minutes,h=s.seconds,y=s.milliseconds,p=s.zone,g=s.week,m=new Date,b=u||(l||d?1:m.getDate()),w=l||m.getFullYear(),x=0;l&&!d||(x=d>0?d-1:m.getMonth());var A,D=c||0,_=v||0,M=h||0,$=y||0;return p?new Date(Date.UTC(w,x,b,D,_,M,$+60*p.offset*1e3)):r?new Date(Date.UTC(w,x,b,D,_,M,$)):(A=new Date(w,x,b,D,_,M,$),g&&(A=a(A).week(g).toDate()),A)}catch(t){return new Date("")}}(i,d,a,r),this.init(),v&&!0!==v&&(this.$L=this.locale(v).$L),(u||c)&&i!=this.format(d)&&(this.$d=new Date("")),o={}}else if(d instanceof Array)for(var h=d.length,y=1;y<=h;y+=1){s[1]=d[y-1];var p=r.apply(this,s);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}y===h&&(this.$d=new Date(""))}else l.call(this,n)}}}()}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.rv=()=>"1.4.6",n.ruid="bundler=rspack@1.4.6",(()=>{"use strict";let t,e;function i(){var t,e;if("function"==typeof(null==(e=null==(t=globalThis.AstroBox)?void 0:t.config)?void 0:e.readConfig))return JSON.parse(globalThis.AstroBox.config.readConfig());throw Error("AstroBox.config.readConfig not available on native side")}function r(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.config)?void 0:n.writeConfig))globalThis.AstroBox.config.writeConfig(JSON.stringify(t));else throw Error("AstroBox.config.writeConfig not available on native side")}function a(t){let e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],n="",i,r=t.length;for(i=2;i<r;i+=3)n+=e[t[i-2]>>2],n+=e[(3&t[i-2])<<4|t[i-1]>>4],n+=e[(15&t[i-1])<<2|t[i]>>6],n+=e[63&t[i]];return i===r+1&&(n+=e[t[i-2]>>2],n+=e[(3&t[i-2])<<4],n+="=="),i===r&&(n+=e[t[i-2]>>2],n+=e[(3&t[i-2])<<4|t[i-1]>>4],n+=e[(15&t[i-1])<<2],n+="="),n}function o(t){if((t=t.replace(/[\r\n\s]/g,"")).length%4!=0)throw Error("Invalid base64 string length");let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0;t.endsWith("==")?n=2:t.endsWith("=")&&(n=1);let i=t.length/4*3-n,r=new Uint8Array(i),a=0;for(let n=0;n<t.length;n+=4){let o=e.indexOf(t[n])<<18|e.indexOf(t[n+1])<<12|e.indexOf(t[n+2])<<6|e.indexOf(t[n+3]);a<i&&(r[a++]=o>>16&255),a<i&&(r[a++]=o>>8&255),a<i&&(r[a++]=255&o)}return r}async function s(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.debug)?void 0:n.sendRaw))await globalThis.AstroBox.debug.sendRaw(a(t));else throw Error("AstroBox.debug.sendRaw not available on native side")}function l(){var t,e;if("function"==typeof(null==(e=null==(t=globalThis.AstroBox)?void 0:t.device)?void 0:e.getDeviceList))return JSON.parse(globalThis.AstroBox.device.getDeviceList());throw Error("AstroBox.device.getDeviceList not available on native side")}function d(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.device)?void 0:n.getDeviceState))return JSON.parse(globalThis.AstroBox.device.getDeviceState(t));throw Error("AstroBox.device.getDeviceState not available on native side")}function u(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.device)?void 0:i.modifyDeviceState))globalThis.AstroBox.device.modifyDeviceState(t,JSON.stringify(e));else throw Error("AstroBox.device.modifyDeviceState not available on native side")}async function c(){var t,e;if("function"==typeof(null==(e=null==(t=globalThis.AstroBox)?void 0:t.device)?void 0:e.disconnectDevice))await globalThis.AstroBox.device.disconnectDevice();else throw Error("AstroBox.device.disconnectDevice not available on native side")}function f(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.event)?void 0:i.addEventListener))globalThis.AstroBox.event.addEventListener(t,e);else throw Error("AstroBox.event.addEventListener not available")}function v(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.event)?void 0:n.removeEventListener))globalThis.AstroBox.event.removeEventListener(t);else throw Error("AstroBox.event.removeEventListener not available")}function h(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.event)?void 0:i.sendEvent))globalThis.AstroBox.event.sendEvent(t,e);else throw Error("AstroBox.event.sendEvent not available")}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){var i;i=n[e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i})}return t}async function p(t){var e,n;let i=y({decode_text:!1,encoding:"undefined"},t);if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.filesystem)?void 0:n.pickFile))return JSON.parse(await globalThis.AstroBox.filesystem.pickFile(JSON.stringify(i)));throw Error("AstroBox.filesystem.pickFile not available")}async function g(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.filesystem)?void 0:i.readFile)){let n=y({offset:0,decode_text:!0},e);var r=await globalThis.AstroBox.filesystem.readFile(t,JSON.stringify(n));return n.decode_text?r:o(r)}throw Error("AstroBox.filesystem.readFile not available")}async function m(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.filesystem)?void 0:n.unloadFile))return await globalThis.AstroBox.filesystem.unloadFile(t);throw Error("AstroBox.filesystem.unloadFile not available")}function b(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.installer)?void 0:i[t]))globalThis.AstroBox.installer[t](e);else throw Error("AstroBox.installer.".concat(t," not available"))}let w=t=>b("addThirdPartyAppToQueue",t),x=t=>b("addWatchFaceToQueue",t),A=t=>b("addFirmwareToQueue",t);async function D(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.interconnect)?void 0:i.sendQAICMessage))await globalThis.AstroBox.interconnect.sendQAICMessage(t,e);else throw Error("AstroBox.interconnect.sendQAICMessage not available")}function _(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.lifecycle)?void 0:n.onLoad))globalThis.AstroBox.lifecycle.onLoad(t);else throw Error("AstroBox.lifecycle.onLoad not available")}function M(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.native)?void 0:n.regNativeFun))return globalThis.AstroBox.native.regNativeFun(t);throw Error("AstroBox.native.regNativeFun not available")}async function $(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.network)?void 0:i.fetch)){e.body=a(e.body);let n=await globalThis.AstroBox.network.fetch(t,JSON.stringify(e));return n.body=o(n.body),n}throw Error("AstroBox.network.fetch not available")}async function T(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.provider)?void 0:n.registerCommunityProvider))await globalThis.AstroBox.provider.registerCommunityProvider(JSON.stringify(t));else throw Error("AstroBox.provider.registerCommunityProvider not available")}async function S(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.thirdpartyapp)?void 0:i.launchQA))await globalThis.AstroBox.thirdpartyapp.launchQA(JSON.stringify(t),e);else throw Error("AstroBox.thirdpartyapp.launchQA not available")}async function B(){var t,e;if("function"==typeof(null==(e=null==(t=globalThis.AstroBox)?void 0:t.thirdpartyapp)?void 0:e.getThirdPartyAppList))return JSON.parse(await globalThis.AstroBox.thirdpartyapp.getThirdPartyAppList());throw Error("AstroBox.thirdpartyapp.getThirdPartyAppList not available")}function O(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.ui)?void 0:i[t]))globalThis.AstroBox.ui[t](e);else throw Error("AstroBox.ui.".concat(t," not available"))}let Y=t=>O("updatePluginSettingsUI",JSON.stringify(t)),k=t=>O("openPageWithNodes",JSON.stringify(t)),L=t=>O("openPageWithUrl",t),N={};!function(t){t.config={},t.config.readConfig=i,t.config.writeConfig=r,t.debug={},t.debug.sendRaw=s,t.device={},t.device.getDeviceList=l,t.device.getDeviceState=d,t.device.modifyDeviceState=u,t.device.disconnectDevice=c,t.event={},t.event.addEventListener=f,t.event.removeEventListener=v,t.event.sendEvent=h,t.installer={},t.installer.addThirdPartyAppToQueue=w,t.installer.addWatchFaceToQueue=x,t.installer.addFirmwareToQueue=A,t.interconnect={},t.interconnect.sendQAICMessage=D,t.lifecycle={},t.lifecycle.onLoad=_,t.native={},t.native.regNativeFun=M,t.network={},t.network.fetch=$,t.provider={},t.provider.registerCommunityProvider=T,t.thirdpartyapp={},t.thirdpartyapp.launchQA=S,t.thirdpartyapp.getThirdPartyAppList=B,t.ui={},t.ui.updatePluginSettingsUI=Y,t.ui.openPageWithNodes=k,t.ui.openPageWithUrl=L,t.filesystem={},t.filesystem.pickFile=p,t.filesystem.readFile=g,t.filesystem.unloadFile=m}(N);var E=n(761),P=n.n(E),F=n(95),I=n.n(F);let C=[],H=0,Q={name:"",time:P()().format("YYYY-MM-DD")},J={name:"",time:""};P().extend(I());let U=N.native.regNativeFun(te),z=N.native.regNativeFun(tn),W=N.native.regNativeFun(ti),j=N.native.regNativeFun(tr),Z=N.native.regNativeFun(ts),V=N.native.regNativeFun(tt),R=N.native.regNativeFun(tu),X=N.native.regNativeFun(K),q=N.native.regNativeFun(td),G=N.native.regNativeFun(tl);async function K(n){let i=n.indexOf("　");e=parseInt(n.slice(0,i))-1,H||(J.name=C[e].name,J.time=C[e].date,console.log(JSON.stringify(J)),t[12]={node_id:"eventName2",visibility:!0,disabled:!1,content:{type:"Input",value:{text:J.name,callback_fun_id:W}}},t[14]={node_id:"eventTime2",visibility:!0,disabled:!1,content:{type:"Input",value:{text:J.time,callback_fun_id:j}}},t[12].visibility=!1,t[14].visibility=!1,N.ui.updatePluginSettingsUI(t),await ta(100),t[12].visibility=!0,t[14].visibility=!0,N.ui.updatePluginSettingsUI(t))}async function tt(n){t[2].content.value='\n          <span style="display:inline-block;width:100%;margin:10px 0;text-align:center;font-size:24px;font-weight:bold;">'.concat(n,"</span>\n          ");for(let e=3;e<=t.length-1;e++)t[e].visibility=!1;switch(n){case"添加事件":for(let e=2;e<=8;e++)7!=e&&(t[e].visibility=!0);break;case"修改事件":for(let e=9;e<=16;e++)15!=e&&(t[e].visibility=!0);H=0,C=[],J.name="",J.time="",e="",t[10].content.value.options=[],t[12]={node_id:"eventName2",visibility:!0,disabled:!1,content:{type:"Input",value:{text:J.name,callback_fun_id:W}}},t[14]={node_id:"eventTime2",visibility:!0,disabled:!1,content:{type:"Input",value:{text:J.time,callback_fun_id:j}}};break;case"删除事件":for(let e=18;e<=21;e++)20!=e&&(t[e].visibility=!0);H=1,C=[],e=""}N.ui.updatePluginSettingsUI(t)}async function te(e){Q.name=e,t[4]={node_id:"eventName",visibility:!0,disabled:!1,content:{type:"Input",value:{text:Q.name,callback_fun_id:U}}},N.ui.updatePluginSettingsUI(t)}async function tn(e){Q.time=e,t[6]={node_id:"eventTime",visibility:!0,disabled:!1,content:{type:"Input",value:{text:Q.time,callback_fun_id:z}}},N.ui.updatePluginSettingsUI(t)}async function ti(t){J.name=t}async function tr(t){J.time=t}let ta=t=>new Promise(e=>setTimeout(e,t));async function to(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;t[n].content.value='\n          <span style="display:inline-block;width:100%;text-align:center;font-weight:bold;color:red;">'.concat(e,"</span>\n          "),t[n].visibility=!0,N.ui.updatePluginSettingsUI(t),await ta(2e3),t[n].visibility=!1,N.ui.updatePluginSettingsUI(t)}async function ts(){if(""==Q.name)return void to("事件名称不能为空");if(!P()(Q.time,"YYYY-MM-DD",!0).isValid())return void to("请输入正确的时间格式");try{let t=(await N.thirdpartyapp.getThirdPartyAppList()).find(t=>"com.yzf.daymatter"==t.package_name);if(await N.thirdpartyapp.launchQA(t,"/pages/index"),!t)return void to("请先安装倒数日快应用");if(t.version_code<10300)return void to("请先安装倒数日快应用的新版本！");await to("正在发送，请稍等\xb7\xb7\xb7"),await N.interconnect.sendQAICMessage("com.yzf.daymatter",JSON.stringify({type:"addEvent",name:Q.name,date:Q.time,on_index:!0})),to("发送成功！")}catch(t){console.error(t),to(t)}}async function tl(){if(""==e)return void to("请选择你要删除的事件！",20);try{let n=(await N.thirdpartyapp.getThirdPartyAppList()).find(t=>"com.yzf.daymatter"==t.package_name);if(await N.thirdpartyapp.launchQA(n,"/pages/index"),!n)return void to("请先安装倒数日快应用",20);if(n.version_code<10300)return void to("请先安装倒数日快应用的新版本！",20);await to("正在发送，请稍等\xb7\xb7\xb7",20),await N.interconnect.sendQAICMessage("com.yzf.daymatter",JSON.stringify({type:"deleteEvent",index:e})),C.splice(e,1),console.log(JSON.stringify(C)),t[19].content.value.options=C.map((t,e)=>e+1+"　"+t.name),to("发送成功！",20)}catch(t){console.error(t),to(t,20)}}async function td(){if(""==e)return void to("请选择你要修改的事件！",15);if(""==J.name)return void to("事件名称不能为空",15);if(!P()(J.time,"YYYY-MM-DD",!0).isValid())return void to("请输入正确的时间格式",15);try{let n=(await N.thirdpartyapp.getThirdPartyAppList()).find(t=>"com.yzf.daymatter"==t.package_name);if(await N.thirdpartyapp.launchQA(n,"/pages/index"),!n)return void to("请先安装倒数日快应用",15);if(n.version_code<10300)return void to("请先安装倒数日快应用的新版本！",15);await to("正在发送，请稍等\xb7\xb7\xb7",15),await N.interconnect.sendQAICMessage("com.yzf.daymatter",JSON.stringify({type:"changeEvent",name:J.name,date:J.time,on_index:!0,index:e})),C[e].name=J.name,C[e].date=J.time,t[10].content.value.options[e]=e+1+"　"+J.name,to("发送成功！",15)}catch(t){console.error(t),to(t,15)}}async function tu(){let t;t=H?20:15;try{let e=(await N.thirdpartyapp.getThirdPartyAppList()).find(t=>"com.yzf.daymatter"==t.package_name);if(await N.thirdpartyapp.launchQA(e,"/pages/index"),!e)return void to("请先安装倒数日快应用",t);if(e.version_code<10300)return void to("请先安装倒数日快应用的新版本！",t);await to("正在发送，请稍等\xb7\xb7\xb7",t),await N.interconnect.sendQAICMessage("com.yzf.daymatter",JSON.stringify({type:"getAllEvent"}))}catch(e){console.error(e),to(e,t)}}N.lifecycle.onLoad(()=>{t=[{node_id:"html0",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">在这里选择你要设置的类型</span>\n          '}},{node_id:"tab",visibility:!0,disabled:!1,content:{type:"Dropdown",value:{options:["添加事件","修改事件","删除事件"],callback_fun_id:V}}},{node_id:"title",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="display:inline-block;width:100%;margin:10px 0;text-align:center;font-size:24px;font-weight:bold;">添加事件</span>\n          '}},{node_id:"html1",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">输入事件名称</span>\n          '}},{node_id:"eventName1",visibility:!0,disabled:!1,content:{type:"Input",value:{text:Q.name,callback_fun_id:U}}},{node_id:"html2",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">输入事件目标日<span style="color:red;">（格式必须为YYYY-MM-DD）</span></span>\n          '}},{node_id:"eventTime1",visibility:!0,disabled:!1,content:{type:"Input",value:{text:Q.time,callback_fun_id:z}}},{node_id:"warn0",visibility:!1,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="display:inline-block;width:100%;text-align:center;font-weight:bold;color:red;"></span>\n          '}},{node_id:"send",visibility:!0,disabled:!1,content:{type:"Button",value:{primary:!0,text:"发送",callback_fun_id:Z}}},{node_id:"html3",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">在这里选择你要修改的事件</span>\n          '}},{node_id:"tab1",visibility:!0,disabled:!1,content:{type:"Dropdown",value:{options:[],callback_fun_id:X}}},{node_id:"html4",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">输入事件名称</span>\n          '}},{node_id:"eventName2",visibility:!0,disabled:!1,content:{type:"Input",value:{text:J.name,callback_fun_id:W}}},{node_id:"html5",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">输入事件目标日<span style="color:red;">（格式必须为YYYY-MM-DD）</span></span>\n          '}},{node_id:"eventTime2",visibility:!0,disabled:!1,content:{type:"Input",value:{text:J.time,callback_fun_id:j}}},{node_id:"warn1",visibility:!1,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="display:inline-block;width:100%;text-align:center;font-weight:bold;color:red;"></span>\n          '}},{node_id:"get2",visibility:!0,disabled:!1,content:{type:"Button",value:{primary:!0,text:"获取手环端数据",callback_fun_id:R}}},{node_id:"send2",visibility:!0,disabled:!1,content:{type:"Button",value:{primary:!0,text:"同步",callback_fun_id:q}}},{node_id:"html6",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">在这里选择你要删除的事件</span>\n          '}},{node_id:"tab2",visibility:!0,disabled:!1,content:{type:"Dropdown",value:{options:[],callback_fun_id:X}}},{node_id:"warn2",visibility:!1,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="display:inline-block;width:100%;text-align:center;font-weight:bold;color:red;"></span>\n          '}},{node_id:"get3",visibility:!0,disabled:!1,content:{type:"Button",value:{primary:!0,text:"获取手环端数据",callback_fun_id:R}}},{node_id:"send3",visibility:!0,disabled:!1,content:{type:"Button",value:{primary:!0,text:"删除",callback_fun_id:G}}}],tt("添加事件")}),N.event.addEventListener("onQAICMessage_com.yzf.daymatter",e=>{let n=JSON.parse(e);console.log(n.data),C=n.data;let i=n.data.map((t,e)=>e+1+"　"+t.name);H?(t[19].content.value.options=i,t[21].visibility=!1,t[22].visibility=!0,to("获取手环端数据成功！",20)):(t[10].content.value.options=i,t[16].visibility=!1,t[17].visibility=!0,to("获取手环端数据成功！",15))})})()})();
//# sourceMappingURL=main.js.map