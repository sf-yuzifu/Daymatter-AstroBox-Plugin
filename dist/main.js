(()=>{var t={761:function(t){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",i="hour",a="week",r="month",o="quarter",s="year",l="date",d="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},v="en",y={};y[v]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}};var p="$isDayjsObject",h=function(t){return t instanceof w||!(!t||!t[p])},g=function t(e,n,i){var a;if(!e)return v;if("string"==typeof e){var r=e.toLowerCase();y[r]&&(a=r),n&&(y[r]=n,a=r);var o=e.split("-");if(!a&&o.length>1)return t(o[0])}else{var s=e.name;y[s]=e,a=s}return!i&&a&&(v=a),a||!i&&v},m=function(t,e){if(h(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new w(n)},b={s:f,z:function(t){var e=-t.utcOffset(),n=Math.abs(e);return(e<=0?"+":"-")+f(Math.floor(n/60),2,"0")+":"+f(n%60,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),a=e.clone().add(i,r),o=n-a<0,s=e.clone().add(i+(o?-1:1),r);return+(-(i+(n-a)/(o?a-s:s-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(d){return({M:r,y:s,w:a,d:"day",D:l,h:i,m:n,s:e,ms:t,Q:o})[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}};b.l=g,b.i=h,b.w=function(t,e){return m(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var w=function(){function f(t){this.$L=g(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var v=f.prototype;return v.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(u);if(i){var a=i[2]-1||0,r=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)):new Date(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)}}return new Date(e)}(t),this.init()},v.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},v.$utils=function(){return b},v.isValid=function(){return this.$d.toString()!==d},v.isSame=function(t,e){var n=m(t);return this.startOf(e)<=n&&n<=this.endOf(e)},v.isAfter=function(t,e){return m(t)<this.startOf(e)},v.isBefore=function(t,e){return this.endOf(e)<m(t)},v.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(t,o){var d=this,u=!!b.u(o)||o,c=b.p(t),f=function(t,e){var n=b.w(d.$u?Date.UTC(d.$y,e,t):new Date(d.$y,e,t),d);return u?n:n.endOf("day")},v=function(t,e){return b.w(d.toDate()[t].apply(d.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),d)},y=this.$W,p=this.$M,h=this.$D,g="set"+(this.$u?"UTC":"");switch(c){case s:return u?f(1,0):f(31,11);case r:return u?f(1,p):f(0,p+1);case a:var m=this.$locale().weekStart||0,w=(y<m?y+7:y)-m;return f(u?h-w:h+(6-w),p);case"day":case l:return v(g+"Hours",0);case i:return v(g+"Minutes",1);case n:return v(g+"Seconds",2);case e:return v(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(t){return this.startOf(t,!1)},v.$set=function(a,o){var d,u=b.p(a),c="set"+(this.$u?"UTC":""),f=((d={}).day=c+"Date",d[l]=c+"Date",d[r]=c+"Month",d[s]=c+"FullYear",d[i]=c+"Hours",d[n]=c+"Minutes",d[e]=c+"Seconds",d[t]=c+"Milliseconds",d)[u],v="day"===u?this.$D+(o-this.$W):o;if(u===r||u===s){var y=this.clone().set(l,1);y.$d[f](v),y.init(),this.$d=y.set(l,Math.min(this.$D,y.daysInMonth())).$d}else f&&this.$d[f](v);return this.init(),this},v.set=function(t,e){return this.clone().$set(t,e)},v.get=function(t){return this[b.p(t)]()},v.add=function(t,o){var l,d=this;t=Number(t);var u=b.p(o),c=function(e){var n=m(d);return b.w(n.date(n.date()+Math.round(e*t)),d)};if(u===r)return this.set(r,this.$M+t);if(u===s)return this.set(s,this.$y+t);if("day"===u)return c(1);if(u===a)return c(7);var f=((l={})[n]=6e4,l[i]=36e5,l[e]=1e3,l)[u]||1,v=this.$d.getTime()+t*f;return b.w(v,this)},v.subtract=function(t,e){return this.add(-1*t,e)},v.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var i=t||"YYYY-MM-DDTHH:mm:ssZ",a=b.z(this),r=this.$H,o=this.$m,s=this.$M,l=n.weekdays,u=n.months,f=n.meridiem,v=function(t,n,a,r){return t&&(t[n]||t(e,i))||a[n].slice(0,r)},y=function(t){return b.s(r%12||12,t,"0")},p=f||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(c,function(t,i){return i||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return b.s(e.$y,4,"0");case"M":return s+1;case"MM":return b.s(s+1,2,"0");case"MMM":return v(n.monthsShort,s,u,3);case"MMMM":return v(u,s);case"D":return e.$D;case"DD":return b.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return v(n.weekdaysMin,e.$W,l,2);case"ddd":return v(n.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(r);case"HH":return b.s(r,2,"0");case"h":return y(1);case"hh":return y(2);case"a":return p(r,o,!0);case"A":return p(r,o,!1);case"m":return String(o);case"mm":return b.s(o,2,"0");case"s":return String(e.$s);case"ss":return b.s(e.$s,2,"0");case"SSS":return b.s(e.$ms,3,"0");case"Z":return a}return null}(t)||a.replace(":","")})},v.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},v.diff=function(t,l,d){var u,c=this,f=b.p(l),v=m(t),y=(v.utcOffset()-this.utcOffset())*6e4,p=this-v,h=function(){return b.m(c,v)};switch(f){case s:u=h()/12;break;case r:u=h();break;case o:u=h()/3;break;case a:u=(p-y)/6048e5;break;case"day":u=(p-y)/864e5;break;case i:u=p/36e5;break;case n:u=p/6e4;break;case e:u=p/1e3;break;default:u=p}return d?u:b.a(u)},v.daysInMonth=function(){return this.endOf(r).$D},v.$locale=function(){return y[this.$L]},v.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=g(t,e,!0);return i&&(n.$L=i),n},v.clone=function(){return b.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},f}(),x=w.prototype;return m.prototype=x,[["$ms",t],["$s",e],["$m",n],["$H",i],["$W","day"],["$M",r],["$y",s],["$D",l]].forEach(function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),m.extend=function(t,e){return t.$i||(t(e,w,m),t.$i=!0),m},m.locale=g,m.isDayjs=h,m.unix=function(t){return m(1e3*t)},m.en=y[v],m.Ls=y,m.p={},m}()},95:function(t){t.exports=function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,i=/\d\d/,a=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,o={},s=function(t){return(t*=1)+(t>68?1900:2e3)},l=function(t){return function(e){this[t]=+e}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t||"Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],u=function(t){var e=o[t];return e&&(e.indexOf?e:e.s.concat(e.f))},c=function(t,e){var n,i=o.meridiem;if(i){for(var a=1;a<=24;a+=1)if(t.indexOf(i(a,0,e))>-1){n=a>12;break}}else n=t===(e?"pm":"PM");return n},f={A:[r,function(t){this.afternoon=c(t,!1)}],a:[r,function(t){this.afternoon=c(t,!0)}],Q:[n,function(t){this.month=3*(t-1)+1}],S:[n,function(t){this.milliseconds=100*t}],SS:[i,function(t){this.milliseconds=10*t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[a,l("seconds")],ss:[a,l("seconds")],m:[a,l("minutes")],mm:[a,l("minutes")],H:[a,l("hours")],h:[a,l("hours")],HH:[a,l("hours")],hh:[a,l("hours")],D:[a,l("day")],DD:[i,l("day")],Do:[r,function(t){var e=o.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var i=1;i<=31;i+=1)e(i).replace(/\[|\]/g,"")===t&&(this.day=i)}],w:[a,l("week")],ww:[i,l("week")],M:[a,l("month")],MM:[i,l("month")],MMM:[r,function(t){var e=u("months"),n=(u("monthsShort")||e.map(function(t){return t.slice(0,3)})).indexOf(t)+1;if(n<1)throw Error();this.month=n%12||n}],MMMM:[r,function(t){var e=u("months").indexOf(t)+1;if(e<1)throw Error();this.month=e%12||e}],Y:[/[+-]?\d+/,l("year")],YY:[i,function(t){this.year=s(t)}],YYYY:[/\d{4}/,l("year")],Z:d,ZZ:d};return function(n,i,a){a.p.customParseFormat=!0,n&&n.parseTwoDigitYear&&(s=n.parseTwoDigitYear);var r=i.prototype,l=r.parse;r.parse=function(n){var i=n.date,r=n.utc,s=n.args;this.$u=r;var d=s[1];if("string"==typeof d){var u=!0===s[2],c=!0===s[3],v=s[2];c&&(v=s[2]),o=this.$locale(),!u&&v&&(o=a.Ls[v]),this.$d=function(n,i,a,r){try{if(["x","X"].indexOf(i)>-1)return new Date(("X"===i?1e3:1)*n);var s=(function(n){var i,a;i=n,a=o&&o.formats;for(var r=(n=i.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,n,i){var r=i&&i.toUpperCase();return n||a[i]||t[i]||a[r].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,e,n){return e||n.slice(1)})})).match(e),s=r.length,l=0;l<s;l+=1){var d=r[l],u=f[d],c=u&&u[0],v=u&&u[1];r[l]=v?{regex:c,parser:v}:d.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,i=0;n<s;n+=1){var a=r[n];if("string"==typeof a)i+=a.length;else{var o=a.regex,l=a.parser,d=t.slice(i),u=o.exec(d)[0];l.call(e,u),t=t.replace(u,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}})(i)(n),l=s.year,d=s.month,u=s.day,c=s.hours,v=s.minutes,y=s.seconds,p=s.milliseconds,h=s.zone,g=s.week,m=new Date,b=u||(l||d?1:m.getDate()),w=l||m.getFullYear(),x=0;l&&!d||(x=d>0?d-1:m.getMonth());var D,_=c||0,A=v||0,S=y||0,M=p||0;return h?new Date(Date.UTC(w,x,b,_,A,S,M+60*h.offset*1e3)):a?new Date(Date.UTC(w,x,b,_,A,S,M)):(D=new Date(w,x,b,_,A,S,M),g&&(D=r(D).week(g).toDate()),D)}catch(t){return new Date("")}}(i,d,r,a),this.init(),v&&!0!==v&&(this.$L=this.locale(v).$L),(u||c)&&i!=this.format(d)&&(this.$d=new Date("")),o={}}else if(d instanceof Array)for(var y=d.length,p=1;p<=y;p+=1){s[1]=d[p-1];var h=a.apply(this,s);if(h.isValid()){this.$d=h.$d,this.$L=h.$L,this.init();break}p===y&&(this.$d=new Date(""))}else l.call(this,n)}}}()}},e={};function n(i){var a=e[i];if(void 0!==a)return a.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.rv=()=>"1.4.6",n.ruid="bundler=rspack@1.4.6",(()=>{"use strict";let t,e;function i(){var t,e;if("function"==typeof(null==(e=null==(t=globalThis.AstroBox)?void 0:t.config)?void 0:e.readConfig))return JSON.parse(globalThis.AstroBox.config.readConfig());throw Error("AstroBox.config.readConfig not available on native side")}function a(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.config)?void 0:n.writeConfig))globalThis.AstroBox.config.writeConfig(JSON.stringify(t));else throw Error("AstroBox.config.writeConfig not available on native side")}function r(t){let e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],n="",i,a=t.length;for(i=2;i<a;i+=3)n+=e[t[i-2]>>2],n+=e[(3&t[i-2])<<4|t[i-1]>>4],n+=e[(15&t[i-1])<<2|t[i]>>6],n+=e[63&t[i]];return i===a+1&&(n+=e[t[i-2]>>2],n+=e[(3&t[i-2])<<4],n+="=="),i===a&&(n+=e[t[i-2]>>2],n+=e[(3&t[i-2])<<4|t[i-1]>>4],n+=e[(15&t[i-1])<<2],n+="="),n}function o(t){if((t=t.replace(/[\r\n\s]/g,"")).length%4!=0)throw Error("Invalid base64 string length");let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0;t.endsWith("==")?n=2:t.endsWith("=")&&(n=1);let i=t.length/4*3-n,a=new Uint8Array(i),r=0;for(let n=0;n<t.length;n+=4){let o=e.indexOf(t[n])<<18|e.indexOf(t[n+1])<<12|e.indexOf(t[n+2])<<6|e.indexOf(t[n+3]);r<i&&(a[r++]=o>>16&255),r<i&&(a[r++]=o>>8&255),r<i&&(a[r++]=255&o)}return a}async function s(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.debug)?void 0:n.sendRaw))await globalThis.AstroBox.debug.sendRaw(r(t));else throw Error("AstroBox.debug.sendRaw not available on native side")}function l(){var t,e;if("function"==typeof(null==(e=null==(t=globalThis.AstroBox)?void 0:t.device)?void 0:e.getDeviceList))return JSON.parse(globalThis.AstroBox.device.getDeviceList());throw Error("AstroBox.device.getDeviceList not available on native side")}function d(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.device)?void 0:n.getDeviceState))return JSON.parse(globalThis.AstroBox.device.getDeviceState(t));throw Error("AstroBox.device.getDeviceState not available on native side")}function u(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.device)?void 0:i.modifyDeviceState))globalThis.AstroBox.device.modifyDeviceState(t,JSON.stringify(e));else throw Error("AstroBox.device.modifyDeviceState not available on native side")}async function c(){var t,e;if("function"==typeof(null==(e=null==(t=globalThis.AstroBox)?void 0:t.device)?void 0:e.disconnectDevice))await globalThis.AstroBox.device.disconnectDevice();else throw Error("AstroBox.device.disconnectDevice not available on native side")}function f(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.event)?void 0:i.addEventListener))globalThis.AstroBox.event.addEventListener(t,e);else throw Error("AstroBox.event.addEventListener not available")}function v(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.event)?void 0:n.removeEventListener))globalThis.AstroBox.event.removeEventListener(t);else throw Error("AstroBox.event.removeEventListener not available")}function y(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.event)?void 0:i.sendEvent))globalThis.AstroBox.event.sendEvent(t,e);else throw Error("AstroBox.event.sendEvent not available")}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){var i;i=n[e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i})}return t}async function h(t){var e,n;let i=p({decode_text:!1,encoding:"undefined"},t);if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.filesystem)?void 0:n.pickFile))return JSON.parse(await globalThis.AstroBox.filesystem.pickFile(JSON.stringify(i)));throw Error("AstroBox.filesystem.pickFile not available")}async function g(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.filesystem)?void 0:i.readFile)){let n=p({offset:0,decode_text:!0},e);var a=await globalThis.AstroBox.filesystem.readFile(t,JSON.stringify(n));return n.decode_text?a:o(a)}throw Error("AstroBox.filesystem.readFile not available")}async function m(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.filesystem)?void 0:n.unloadFile))return await globalThis.AstroBox.filesystem.unloadFile(t);throw Error("AstroBox.filesystem.unloadFile not available")}function b(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.installer)?void 0:i[t]))globalThis.AstroBox.installer[t](e);else throw Error("AstroBox.installer.".concat(t," not available"))}let w=t=>b("addThirdPartyAppToQueue",t),x=t=>b("addWatchFaceToQueue",t),D=t=>b("addFirmwareToQueue",t);async function _(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.interconnect)?void 0:i.sendQAICMessage))await globalThis.AstroBox.interconnect.sendQAICMessage(t,e);else throw Error("AstroBox.interconnect.sendQAICMessage not available")}function A(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.lifecycle)?void 0:n.onLoad))globalThis.AstroBox.lifecycle.onLoad(t);else throw Error("AstroBox.lifecycle.onLoad not available")}function S(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.native)?void 0:n.regNativeFun))return globalThis.AstroBox.native.regNativeFun(t);throw Error("AstroBox.native.regNativeFun not available")}async function M(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.network)?void 0:i.fetch)){e.body_encoded="string"!=typeof e.body,e.body=e.body?e.body_encoded?r(e.body):e.body:"";let n=await globalThis.AstroBox.network.fetch(t,JSON.stringify(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){var i;i=n[e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i})}return t}({raw:!1},e)));return n.body=e.raw?o(n.body):n.body,n}throw Error("AstroBox.network.fetch not available")}async function $(t){var e,n;if("function"==typeof(null==(n=null==(e=globalThis.AstroBox)?void 0:e.provider)?void 0:n.registerCommunityProvider))await globalThis.AstroBox.provider.registerCommunityProvider(JSON.stringify(t));else throw Error("AstroBox.provider.registerCommunityProvider not available")}async function T(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.thirdpartyapp)?void 0:i.launchQA))await globalThis.AstroBox.thirdpartyapp.launchQA(JSON.stringify(t),e);else throw Error("AstroBox.thirdpartyapp.launchQA not available")}async function O(){var t,e;if("function"==typeof(null==(e=null==(t=globalThis.AstroBox)?void 0:t.thirdpartyapp)?void 0:e.getThirdPartyAppList))return JSON.parse(await globalThis.AstroBox.thirdpartyapp.getThirdPartyAppList());throw Error("AstroBox.thirdpartyapp.getThirdPartyAppList not available")}function B(t,e){var n,i;if("function"==typeof(null==(i=null==(n=globalThis.AstroBox)?void 0:n.ui)?void 0:i[t]))globalThis.AstroBox.ui[t](e);else throw Error("AstroBox.ui.".concat(t," not available"))}let k=t=>B("updatePluginSettingsUI",JSON.stringify(t)),Y=t=>B("openPageWithNodes",JSON.stringify(t)),F=t=>B("openPageWithUrl",t),I={};!function(t){t.config={},t.config.readConfig=i,t.config.writeConfig=a,t.debug={},t.debug.sendRaw=s,t.device={},t.device.getDeviceList=l,t.device.getDeviceState=d,t.device.modifyDeviceState=u,t.device.disconnectDevice=c,t.event={},t.event.addEventListener=f,t.event.removeEventListener=v,t.event.sendEvent=y,t.installer={},t.installer.addThirdPartyAppToQueue=w,t.installer.addWatchFaceToQueue=x,t.installer.addFirmwareToQueue=D,t.interconnect={},t.interconnect.sendQAICMessage=_,t.lifecycle={},t.lifecycle.onLoad=A,t.native={},t.native.regNativeFun=S,t.network={},t.network.fetch=M,t.provider={},t.provider.registerCommunityProvider=$,t.thirdpartyapp={},t.thirdpartyapp.launchQA=T,t.thirdpartyapp.getThirdPartyAppList=O,t.ui={},t.ui.updatePluginSettingsUI=k,t.ui.openPageWithNodes=Y,t.ui.openPageWithUrl=F,t.filesystem={},t.filesystem.pickFile=h,t.filesystem.readFile=g,t.filesystem.unloadFile=m}(I);var L=n(761),N=n.n(L),E=n(95),P=n.n(E);let C=[],H=0,Q={name:"",time:N()().format("YYYY-MM-DD"),on_index:!0,IFStaringDay:!1},J={name:"",time:"",on_index:!0,IFStaringDay:!1};N().extend(P());let U=I.native.regNativeFun(tr),z=I.native.regNativeFun(to),j=I.native.regNativeFun(ts),W=I.native.regNativeFun(tl),Z=I.native.regNativeFun(tc),V=I.native.regNativeFun(tf),R=I.native.regNativeFun(td),X=I.native.regNativeFun(tu),q=I.native.regNativeFun(tp),G=I.native.regNativeFun(ta),K=I.native.regNativeFun(tm),tt=I.native.regNativeFun(ti),te=I.native.regNativeFun(tg),tn=I.native.regNativeFun(th);async function ti(n){let i=n.indexOf("　");e=parseInt(n.slice(0,i))-1,H||(J.name=C[e].name,J.time=C[e].date,J.on_index=C[e].on_index,J.IFStaringDay=C[e].IFStaringDay,console.log(JSON.stringify(J)),t[16]={node_id:"eventName2",visibility:!0,disabled:!1,content:{type:"Input",value:{text:J.name,callback_fun_id:Z}}},t[18]={node_id:"eventTime2",visibility:!0,disabled:!1,content:{type:"Input",value:{text:J.time,callback_fun_id:V}}},t[19].content.value='<span style="margin-left: 13%;">是否显示在主页<span style="color:red;">（当前选中：'.concat(J.on_index?"是":"否","）</span></span>"),t[21].content.value='<span style="margin-left: 13%;">是否计入起始日<span style="color:red;">（当前选中：'.concat(J.IFStaringDay?"是":"否","）</span></span>"),t[16].visibility=!1,t[18].visibility=!1,I.ui.updatePluginSettingsUI(t),await tv(100),t[16].visibility=!0,t[18].visibility=!0,I.ui.updatePluginSettingsUI(t))}async function ta(n){t[2].content.value='\n          <span style="display:inline-block;width:100%;margin:10px 0;text-align:center;font-size:24px;font-weight:bold;">'.concat(n,"</span>\n          ");for(let e=3;e<=t.length-1;e++)t[e].visibility=!1;switch(n){case"添加事件":for(let e=2;e<=12;e++)11!=e&&(t[e].visibility=!0);break;case"修改事件":for(let e=13;e<=24;e++)23!=e&&(t[e].visibility=!0);H=0,C=[],J.name="",J.time="",J.on_index=!0,J.IFStaringDay=!1,e="",t[14].content.value.options=[],t[16]={node_id:"eventName2",visibility:!0,disabled:!1,content:{type:"Input",value:{text:J.name,callback_fun_id:Z}}},t[18]={node_id:"eventTime2",visibility:!0,disabled:!1,content:{type:"Input",value:{text:J.time,callback_fun_id:V}}};break;case"删除事件":for(let e=26;e<=29;e++)28!=e&&(t[e].visibility=!0);H=1,C=[],e=""}I.ui.updatePluginSettingsUI(t)}async function tr(e){Q.name=e,t[4]={node_id:"eventName1",visibility:!0,disabled:!1,content:{type:"Input",value:{text:Q.name,callback_fun_id:U}}},I.ui.updatePluginSettingsUI(t)}async function to(e){Q.time=e,t[6]={node_id:"eventTime1",visibility:!0,disabled:!1,content:{type:"Input",value:{text:Q.time,callback_fun_id:z}}},I.ui.updatePluginSettingsUI(t)}async function ts(e){"否"==e?(Q.on_index=!1,t[7].content.value='<span style="margin-left: 13%;">是否显示在主页<span style="color:red;">（当前选中：否）</span></span>'):(Q.on_index=!0,t[7].content.value='<span style="margin-left: 13%;">是否显示在主页<span style="color:red;">（当前选中：是）</span></span>'),I.ui.updatePluginSettingsUI(t)}async function tl(e){"是"==e?(Q.IFStaringDay=!0,t[9].content.value='<span style="margin-left: 13%;">是否计入起始日<span style="color:red;">（当前选中：是）</span></span>'):(Q.IFStaringDay=!1,t[9].content.value='<span style="margin-left: 13%;">是否计入起始日<span style="color:red;">（当前选中：否）</span></span>'),I.ui.updatePluginSettingsUI(t)}async function td(e){"否"==e?(J.on_index=!1,t[19].content.value='<span style="margin-left: 13%;">是否显示在主页<span style="color:red;">（当前选中：否）</span></span>'):(J.on_index=!0,t[19].content.value='<span style="margin-left: 13%;">是否显示在主页<span style="color:red;">（当前选中：是）</span></span>'),I.ui.updatePluginSettingsUI(t)}async function tu(e){"是"==e?(J.IFStaringDay=!0,t[21].content.value='<span style="margin-left: 13%;">是否计入起始日<span style="color:red;">（当前选中：是）</span></span>'):(J.IFStaringDay=!1,t[21].content.value='<span style="margin-left: 13%;">是否计入起始日<span style="color:red;">（当前选中：否）</span></span>'),I.ui.updatePluginSettingsUI(t)}async function tc(t){J.name=t}async function tf(t){J.time=t}let tv=t=>new Promise(e=>setTimeout(e,t));async function ty(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11;t[n].content.value='\n          <span style="display:inline-block;width:100%;text-align:center;font-weight:bold;color:red;">'.concat(e,"</span>\n          "),t[n].visibility=!0,I.ui.updatePluginSettingsUI(t),await tv(2e3),t[n].visibility=!1,I.ui.updatePluginSettingsUI(t)}async function tp(){if(""==Q.name)return void ty("事件名称不能为空");if(!N()(Q.time,"YYYY-MM-DD",!0).isValid())return void ty("请输入正确的时间格式");try{let t=(await I.thirdpartyapp.getThirdPartyAppList()).find(t=>"com.yzf.daymatter"==t.package_name);if(await I.thirdpartyapp.launchQA(t,"/pages/index"),!t)return void ty("请先安装倒数日快应用");if(t.version_code<10400)return void ty("请先安装倒数日快应用的新版本！");await ty("正在发送，请稍等\xb7\xb7\xb7"),await I.interconnect.sendQAICMessage("com.yzf.daymatter",JSON.stringify({type:"addEvent",name:Q.name,date:Q.time,on_index:Q.on_index,IFStaringDay:Q.IFStaringDay})),ty("发送成功！")}catch(t){console.error(t),ty(t)}}async function th(){if(""===e)return void ty("请选择你要删除的事件！",28);try{let n=(await I.thirdpartyapp.getThirdPartyAppList()).find(t=>"com.yzf.daymatter"==t.package_name);if(await I.thirdpartyapp.launchQA(n,"/pages/index"),!n)return void ty("请先安装倒数日快应用",28);if(n.version_code<10400)return void ty("请先安装倒数日快应用的新版本！",28);await ty("正在发送，请稍等\xb7\xb7\xb7",28),await I.interconnect.sendQAICMessage("com.yzf.daymatter",JSON.stringify({type:"deleteEvent",index:e})),C.splice(e,1),console.log(JSON.stringify(C)),t[27].content.value.options=C.map((t,e)=>e+1+"　"+t.name),ty("发送成功！",28)}catch(t){console.error(t),ty(t,28)}}async function tg(){if(""===e)return void ty("请选择你要修改的事件！",23);if(""==J.name)return void ty("事件名称不能为空",23);if(!N()(J.time,"YYYY-MM-DD",!0).isValid())return void ty("请输入正确的时间格式",23);try{let n=(await I.thirdpartyapp.getThirdPartyAppList()).find(t=>"com.yzf.daymatter"==t.package_name);if(await I.thirdpartyapp.launchQA(n,"/pages/index"),!n)return void ty("请先安装倒数日快应用",23);if(n.version_code<10400)return void ty("请先安装倒数日快应用的新版本！",23);await ty("正在发送，请稍等\xb7\xb7\xb7",23),await I.interconnect.sendQAICMessage("com.yzf.daymatter",JSON.stringify({type:"changeEvent",name:J.name,date:J.time,on_index:J.on_index,IFStaringDay:J.IFStaringDay,index:e})),C[e].name=J.name,C[e].date=J.time,t[14].content.value.options[e]=e+1+"　"+J.name,ty("发送成功！",23)}catch(t){console.error(t),ty(t,23)}}async function tm(){let t;t=H?28:23;try{let e=(await I.thirdpartyapp.getThirdPartyAppList()).find(t=>"com.yzf.daymatter"==t.package_name);if(await I.thirdpartyapp.launchQA(e,"/pages/index"),!e)return void ty("请先安装倒数日快应用",t);if(e.version_code<10400)return void ty("请先安装倒数日快应用的新版本！",t);await ty("正在发送，请稍等\xb7\xb7\xb7",t),await I.interconnect.sendQAICMessage("com.yzf.daymatter",JSON.stringify({type:"getAllEvent"}))}catch(e){console.error(e),ty(e,t)}}I.lifecycle.onLoad(()=>{t=[{node_id:"html0",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">在这里选择你要设置的类型</span>\n          '}},{node_id:"tab",visibility:!0,disabled:!1,content:{type:"Dropdown",value:{options:["添加事件","修改事件","删除事件"],callback_fun_id:G}}},{node_id:"title",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="display:inline-block;width:100%;margin:10px 0;text-align:center;font-size:24px;font-weight:bold;">添加事件</span>\n          '}},{node_id:"html1",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">输入事件名称</span>\n          '}},{node_id:"eventName1",visibility:!0,disabled:!1,content:{type:"Input",value:{text:Q.name,callback_fun_id:U}}},{node_id:"html2",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">输入事件目标日<span style="color:red;">（格式必须为YYYY-MM-DD）</span></span>\n          '}},{node_id:"eventTime1",visibility:!0,disabled:!1,content:{type:"Input",value:{text:Q.time,callback_fun_id:z}}},{node_id:"html31",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">是否显示在主页<span style="color:red;">（当前选中：是）</span></span>\n          '}},{node_id:"tab11",visibility:!0,disabled:!1,content:{type:"Dropdown",value:{options:["是","否"],callback_fun_id:j}}},{node_id:"html32",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">是否计入起始日<span style="color:red;">（当前选中：否）</span></span>\n          '}},{node_id:"tab12",visibility:!0,disabled:!1,content:{type:"Dropdown",value:{options:["是","否"],callback_fun_id:W}}},{node_id:"warn0",visibility:!1,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="display:inline-block;width:100%;text-align:center;font-weight:bold;color:red;"></span>\n          '}},{node_id:"send",visibility:!0,disabled:!1,content:{type:"Button",value:{primary:!0,text:"发送",callback_fun_id:q}}},{node_id:"html3",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">在这里选择你要修改的事件</span>\n          '}},{node_id:"tab1",visibility:!0,disabled:!1,content:{type:"Dropdown",value:{options:[],callback_fun_id:tt}}},{node_id:"html4",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">输入事件名称</span>\n          '}},{node_id:"eventName2",visibility:!0,disabled:!1,content:{type:"Input",value:{text:J.name,callback_fun_id:Z}}},{node_id:"html5",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">输入事件目标日<span style="color:red;">（格式必须为YYYY-MM-DD）</span></span>\n          '}},{node_id:"eventTime2",visibility:!0,disabled:!1,content:{type:"Input",value:{text:J.time,callback_fun_id:V}}},{node_id:"html311",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">是否显示在主页</span>\n          '}},{node_id:"tab111",visibility:!0,disabled:!1,content:{type:"Dropdown",value:{options:["是","否"],callback_fun_id:R}}},{node_id:"html321",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">是否计入起始日</span>\n          '}},{node_id:"tab121",visibility:!0,disabled:!1,content:{type:"Dropdown",value:{options:["是","否"],callback_fun_id:X}}},{node_id:"warn1",visibility:!1,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="display:inline-block;width:100%;text-align:center;font-weight:bold;color:red;"></span>\n          '}},{node_id:"get2",visibility:!0,disabled:!1,content:{type:"Button",value:{primary:!0,text:"获取手环端数据",callback_fun_id:K}}},{node_id:"send2",visibility:!0,disabled:!1,content:{type:"Button",value:{primary:!0,text:"同步",callback_fun_id:te}}},{node_id:"html6",visibility:!0,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="margin-left: 13%;">在这里选择你要删除的事件</span>\n          '}},{node_id:"tab2",visibility:!0,disabled:!1,content:{type:"Dropdown",value:{options:[],callback_fun_id:tt}}},{node_id:"warn2",visibility:!1,disabled:!1,content:{type:"HtmlDocument",value:'\n          <span style="display:inline-block;width:100%;text-align:center;font-weight:bold;color:red;"></span>\n          '}},{node_id:"get3",visibility:!0,disabled:!1,content:{type:"Button",value:{primary:!0,text:"获取手环端数据",callback_fun_id:K}}},{node_id:"send3",visibility:!0,disabled:!1,content:{type:"Button",value:{primary:!0,text:"删除",callback_fun_id:tn}}}],ta("添加事件")}),I.event.addEventListener("onQAICMessage_com.yzf.daymatter",e=>{let n=JSON.parse(e);console.log(n.data),C=n.data;let i=n.data.map((t,e)=>e+1+"　"+t.name);H?(t[27].content.value.options=i,t[29].visibility=!1,t[30].visibility=!0,ty("获取手环端数据成功！",28)):(t[14].content.value.options=i,t[24].visibility=!1,t[25].visibility=!0,ty("获取手环端数据成功！",23))})})()})();
//# sourceMappingURL=main.js.map